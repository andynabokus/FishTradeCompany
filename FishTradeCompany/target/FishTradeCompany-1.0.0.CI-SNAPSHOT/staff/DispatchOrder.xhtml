<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:h="http://java.sun.com/jsf/html"
       xmlns:p="http://primefaces.org/ui">
<h:head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Dispatch Order</title>
</h:head>
<h:body style="color: rgb(51, 0, 51); background-color: rgb(88, 161, 188);" alink="#660000" link="#ff6666" vlink="#cc6600">
	<table style="text-align: left; width: 1236px; margin-left: auto; margin-right: auto; height: 110px;" border="0" cellpadding="0" cellspacing="2" >
	  	<tbody>
    	<tr>
      		<td style="vertical-align: top;">
      			<table style="text-align: left; width: 1198px; height: 115px;" border="0" cellpadding="2" cellspacing="2">
        			<tbody>
          				<tr>
							<td>
								<h:graphicImage  id="logoBionic" url="/resources/images/bionic_logo.png" style="width: 275px; height: 106px;" alt=""/>
								<br/>
							</td>
							<td style="vertical-align: top; text-align: center; width: 95%; height: 95%;">
							<big style="font-family: Purisa; color: rgb(153, 51, 0);"><big><big><big>Fish Store</big></big></big></big>
								<br/>
            				</td>
          				</tr>
        			</tbody>
        		</table>
        	</td>
        </tr>
     </tbody>
     </table>
    #{storeManagerControlBean.dispatchingOrders()}
         <h:form id="form">
     	   <table width="100%" cellpadding="0" cellspacing="0" border="0" align="center"  class="outer_table">
            <tr>
                <td>
                    <table width="1500" height="300" cellpadding="0" cellspacing="0" border="0" align="center">
                        <tr>
                            <td align="center">
                                <p:panel id="panel">
									<p:dataTable id="datatable" value="#{storeManagerControlBean.arrayCustOrder}" var="custOrders">
									<p:column headerText="Select Item"> 
									<h:selectBooleanCheckbox value="#{storeManagerControlBean.selOrderForDispatching[custOrders.key.orderNum]}" />
									</p:column>
									<p:column headerText="Order"> 
									<h:outputText  value="#{custOrders.key.orderNum}"/> 
									</p:column>
									<p:column headerText="Fish weight">
									<h:outputText  value="#{custOrders.key.weight}"/> 
									</p:column>
									<p:column headerText="Fish Name">
									<h:outputText  value="#{custOrders.value.fishName}"/> 
									</p:column>
									</p:dataTable>
									<p:commandButton value="Submit" action="#{storeManagerControlBean.dispatchItem()}" update=":form:datatable" ajax="true">
									</p:commandButton>
									<p:commandButton value="Cancel" action="StoreManagerControl.xhtml" immediate="true"/>
									</p:panel>
							</td>
                         </tr>
                     </table>
                  </td>
             </tr>
      </table> 
  </h:form>   
</h:body> 
</html>